<form ng-submit="editor.save()" name="form">
  <h2 ng-if="editor.creating"><strong>Create {{ editor.field.scripted ? 'Scripted ' : '' }}Field</strong></h1>
  <h2 ng-if="!editor.creating"><strong>Field:</strong> <code>{{ editor.field.name }}</code></h1>

  <div class="form-group">
    <label>
      Index Pattern
      <a href="#{{ editor.indexPattern.editRoute }}"><i class="fa fa-pencil" aria-label="edit"></i></a>
    </label>
    <input
      ng-model="editor.indexPattern.id"
      readonly
      class="form-control"
    >
  </div>

  <div class="form-group">
    <label>Name</label>
    <input
      ng-model="editor.field.name"
      ng-readonly="!editor.creating"
      class="form-control"
    >
  </div>

  <div class="form-group">
    <label>Type</label>
    <input
      ng-model="editor.field.type"
      ng-readonly="!editor.creating"
      class="form-control"
    >
  </div>

  <div class="form-group" ng-if="editor.field.scripted">
    <label>
      Script
      <small>Please familiarize yourself with <a target="_window" href="http://www.elastic.co/guide/en/elasticsearch/reference/current/search-request-script-fields.html#search-request-script-fields">script fields <i class="fa-link fa"></i></a> and with <a target="_window" href="http://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-bucket-terms-aggregation.html#search-aggregations-bucket-terms-aggregation-script">scripts in aggregations <i class="fa-link fa"></i></a> before using scripted fields.</small>
    </label>

    <div ng-bind-html="editor.scriptingInfo" class="hintbox"></div>
    <div ng-bind-html="editor.scriptingWarning" class="hintbox"></div>

    <textarea required class="form-control text-monospace" ng-model="editor.field.script"></textarea>
  </div>

  <div class="form-group">
    <label>Format <small>(Default: <i>{{editor.defFormatType.resolvedTitle}}</i>)</small></label>
    <select
      ng-model="editor.selectedFormatId"
      ng-options="format.id as format.title for format in editor.fieldFormatTypes"
      class="form-control">
    </select>
    <fieldset field-editor-format-fieldset></fieldset>
  </div>

  <div class="form-group">
    <label for="editor.field.count">Popularity</label>
    <div class="input-group">

      <input
        ng-model="editor.field.count"
        type="number"
        class="form-control">

      <span class="input-group-btn">
        <button
          type="button"
          ng-click="editor.field.count = editor.field.count + 1"
          aria-label="Plus"
          class="btn btn-default">
          <i aria-hidden="true" class="fa fa-plus"></i>
        </button>
        <button
          type="button"
          ng-click="editor.field.count = editor.field.count - 1"
          aria-label="Minus"
          class="btn btn-default">
          <i aria-hidden="true" class="fa fa-minus"></i>
        </button>
      </span>
    </div>
  </div>

  <div class="form-group">
    <button
      ng-click="editor.cancel()"
      aria-label="Cancel"
      class="btn btn-primary">
      Cancel
    </button>
    <button
      ng-disabled="form.$invalid"
      type="submit"
      aria-label="Save {{ title }} Object"
      class="btn btn-success">
      Save {{ title }} Object
    </button>
  </div>
</form>
